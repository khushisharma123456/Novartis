<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Alerts - MedSafe</title><link rel="stylesheet" href="../css/style.css"><script src="https://unpkg.com/lucide@latest"></script><script type="module" src="../js/sidebar.js"></script></head><body><div class="dashboard-layout"><app-sidebar></app-sidebar><main class="main-content"><header style="margin-bottom: 2rem;"><h1>Safety Alerts</h1><p>High priority reports requiring your attention</p></header><div class="container" style="padding: 0; max-width: 800px; margin: 0;"><div id="alerts-list" style="display: flex; flex-direction: column; gap: 1rem;">< !-- JS fills this --><p>Loading alerts...</p></div></div></main></div><script type="module">import {
    DoctorApp
}

from '../js/doctor.js';

import {
    Auth
}

from '../js/auth.js';
Auth.requireAuth();

const patients=DoctorApp.getPatients();
// Filter Medium/High risk
const alerts=patients.filter(p=> p.riskLevel==='High' || p.riskLevel==='Medium');

const container=document.getElementById('alerts-list');

if (alerts.length===0) {
    container.innerHTML=` <div class="card" style="text-align: center; padding: 3rem;"><i data-lucide="check-circle" style="width: 48px; height: 48px; color: var(--primary); margin-bottom: 1rem;"></i><h3>All Clear</h3><p>No active alerts for your patients at this time.</p></div>`;
}

else {
    container.innerHTML=alerts.map(p=> ` <div class="card" style="border-left: 5px solid ${p.riskLevel === 'High' ? 'var(--risk-high)' : 'var(--risk-medium)'};" > <div style="display: flex; justify-content: space-between; align-items: start;" > <div> <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;" > $ {
            DoctorApp.renderRiskBadge(p.riskLevel)
        }

        <span style="font-weight: 600; color: var(--text-muted);" >$ {
            p.id
        }

        </span> </div> <h3 style="margin-bottom: 0.25rem;" >$ {
            p.symptoms
        }

        </h3> <p>Drug: $ {
            p.drugName
        }

        </p> </div> <a href="patients.html?id=${p.id}" class="btn btn-outline" >Review Case</a> </div> </div> `).join('');
}

lucide.createIcons();
</script></body></html>